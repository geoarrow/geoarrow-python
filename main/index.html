
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>GeoArrow for Python &#8212; geoarrow  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'index';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="geoarrow-pyarrow" href="pyarrow.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
  
    <p class="title logo__title">geoarrow  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="pyarrow.html">
    geoarrow-pyarrow
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="pandas.html">
    geoarrow-pandas
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="pyarrow.html">
    geoarrow-pyarrow
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="pandas.html">
    geoarrow-pandas
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none"></div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="geoarrow-for-python">
<h1>GeoArrow for Python<a class="headerlink" href="#geoarrow-for-python" title="Link to this heading">#</a></h1>
<p>The GeoArrow Python packages provide an implementation of the <a class="reference external" href="https://geoarrow.org">GeoArrow
specification</a> that integrates with
<a class="reference external" href="https://arrow.apache.org/docs/python">pyarrow</a>. The GeoArrow Python
bindings enable input/output to/from Arrow-friendly formats (e.g.,
Parquet, Arrow Stream, Arrow File) and general-purpose coordinate
shuffling tools among GeoArrow, WKT, and WKB encodings.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h2>
<p>Python bindings for GeoArrow are available on PyPI. You can install them
with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>geoarrow-pyarrow
</pre></div>
</div>
<p>You can install the latest development version with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;git+https://github.com/geoarrow/geoarrow-python.git#subdirectory=geoarrow-pyarrow&quot;</span>
</pre></div>
</div>
<p>If you can import the namespace, you’re good to go!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geoarrow.pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ga</span>
</pre></div>
</div>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">#</a></h2>
<p>The most important thing that <code class="docutils literal notranslate"><span class="pre">geoarrow.pyarrow</span></code> does is register
pyarrow extension types so that metadata is kept intact when reading
files or interacting with other libraries. For example, we can now read
Arrow IPC files written with GeoArrow extension types and the CRS and
geometry type is kept:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">urllib.request</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/geoarrow/geoarrow-data/v0.2.0/natural-earth/files/natural-earth_cities_wkb.arrows&quot;</span>
<span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">,</span> <span class="n">pa</span><span class="o">.</span><span class="n">ipc</span><span class="o">.</span><span class="n">open_stream</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
    <span class="n">tab</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read_all</span><span class="p">()</span>

<span class="n">tab</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;geometry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WkbType</span><span class="p">(</span><span class="n">geoarrow</span><span class="o">.</span><span class="n">wkb</span> <span class="o">&lt;</span><span class="n">ProjJsonCrs</span><span class="p">(</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="p">)</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">geoarrow.pyarrow.to_geopandas()</span></code> to convert to
<a class="reference external" href="https://geopandas.org">geopandas</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">ga</span><span class="o">.</span><span class="n">to_geopandas</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">crs</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Geographic</span> <span class="mi">2</span><span class="n">D</span> <span class="n">CRS</span><span class="p">:</span> <span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="o">&gt;</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">WGS</span> <span class="mi">84</span>
<span class="n">Axis</span> <span class="n">Info</span> <span class="p">[</span><span class="n">ellipsoidal</span><span class="p">]:</span>
<span class="o">-</span> <span class="n">Lat</span><span class="p">[</span><span class="n">north</span><span class="p">]:</span> <span class="n">Geodetic</span> <span class="n">latitude</span> <span class="p">(</span><span class="n">degree</span><span class="p">)</span>
<span class="o">-</span> <span class="n">Lon</span><span class="p">[</span><span class="n">east</span><span class="p">]:</span> <span class="n">Geodetic</span> <span class="n">longitude</span> <span class="p">(</span><span class="n">degree</span><span class="p">)</span>
<span class="n">Area</span> <span class="n">of</span> <span class="n">Use</span><span class="p">:</span>
<span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">World</span><span class="o">.</span>
<span class="o">-</span> <span class="n">bounds</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">180.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">90.0</span><span class="p">,</span> <span class="mf">180.0</span><span class="p">,</span> <span class="mf">90.0</span><span class="p">)</span>
<span class="n">Datum</span><span class="p">:</span> <span class="n">World</span> <span class="n">Geodetic</span> <span class="n">System</span> <span class="mi">1984</span> <span class="n">ensemble</span>
<span class="o">-</span> <span class="n">Ellipsoid</span><span class="p">:</span> <span class="n">WGS</span> <span class="mi">84</span>
<span class="o">-</span> <span class="n">Prime</span> <span class="n">Meridian</span><span class="p">:</span> <span class="n">Greenwich</span>
</pre></div>
</div>
<p>…and use <code class="docutils literal notranslate"><span class="pre">GeoDataFrame.to_arrow()</span></code> to get it back:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">to_arrow</span><span class="p">())[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">crs</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ProjJsonCrs</span><span class="p">(</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="p">)</span>
</pre></div>
</div>
<p>These Python bindings also include
<a class="reference external" href="https://geoparquet.org">GeoParquet</a> and
<a class="reference external" href="https://github.com/geopandas/pyogrio">pyogrio</a> integration for
direct IO to/from pyarrow. This can be useful when loading data
approaching the size of available memory as GeoPandas requires many
times more memory for some types of data (notably: large numbers of
points).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geoarrow.pyarrow.io</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/geoarrow/geoarrow-data/v0.2.0/natural-earth/files/natural-earth_cities.fgb&quot;</span>
<span class="n">geoarrow</span><span class="o">.</span><span class="n">pyarrow</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_pyogrio_table</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyarrow</span><span class="o">.</span><span class="n">Table</span>
<span class="n">name</span><span class="p">:</span> <span class="n">string</span>
<span class="n">geometry</span><span class="p">:</span> <span class="n">extension</span><span class="o">&lt;</span><span class="n">geoarrow</span><span class="o">.</span><span class="n">wkb</span><span class="o">&lt;</span><span class="n">WkbType</span><span class="o">&gt;&gt;</span>
<span class="o">----</span>
<span class="n">name</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;Vatican City&quot;</span><span class="p">,</span><span class="s2">&quot;San Marino&quot;</span><span class="p">,</span><span class="s2">&quot;Vaduz&quot;</span><span class="p">,</span><span class="s2">&quot;Lobamba&quot;</span><span class="p">,</span><span class="s2">&quot;Luxembourg&quot;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="s2">&quot;Rio de Janeiro&quot;</span><span class="p">,</span><span class="s2">&quot;Sao Paulo&quot;</span><span class="p">,</span><span class="s2">&quot;Sydney&quot;</span><span class="p">,</span><span class="s2">&quot;Singapore&quot;</span><span class="p">,</span><span class="s2">&quot;Hong Kong&quot;</span><span class="p">]]</span>
<span class="n">geometry</span><span class="p">:</span> <span class="p">[[</span><span class="mf">010100000054E57</span><span class="n">B4622E828408B074AC09EF34440</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">DCB122B42FE228402376B7FCD1F74540</span><span class="p">,</span><span class="mi">01010000006</span><span class="n">DAE9AE78808234032D989DC1D914740</span><span class="p">,</span><span class="mi">01010000007</span><span class="n">BCB8B0233333F40289B728577773AC0</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">C08D39741F8518400F2153E34ACE4840</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="mi">0101000000667</span><span class="n">B47AA269B45C002B53F5745E836C0</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">F15A536A405047C0C1148A19868E37C0</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">A286FD30CDE662401F04CF2989EF40C0</span><span class="p">,</span><span class="mi">01010000003</span><span class="n">A387DE2A5F659409AF3E7363CB8F43F</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">D865F84FB78B5C40144438C1924E3640</span><span class="p">]]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/geoarrow/geoarrow-data/v0.2.0/natural-earth/files/natural-earth_cities_geo.parquet&quot;</span>
<span class="n">local_filename</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">geoarrow</span><span class="o">.</span><span class="n">pyarrow</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_geoparquet_table</span><span class="p">(</span><span class="n">local_filename</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyarrow</span><span class="o">.</span><span class="n">Table</span>
<span class="n">name</span><span class="p">:</span> <span class="n">string</span>
<span class="n">geometry</span><span class="p">:</span> <span class="n">extension</span><span class="o">&lt;</span><span class="n">geoarrow</span><span class="o">.</span><span class="n">wkb</span><span class="o">&lt;</span><span class="n">WkbType</span><span class="o">&gt;&gt;</span>
<span class="o">----</span>
<span class="n">name</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;Vatican City&quot;</span><span class="p">,</span><span class="s2">&quot;San Marino&quot;</span><span class="p">,</span><span class="s2">&quot;Vaduz&quot;</span><span class="p">,</span><span class="s2">&quot;Lobamba&quot;</span><span class="p">,</span><span class="s2">&quot;Luxembourg&quot;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="s2">&quot;Rio de Janeiro&quot;</span><span class="p">,</span><span class="s2">&quot;Sao Paulo&quot;</span><span class="p">,</span><span class="s2">&quot;Sydney&quot;</span><span class="p">,</span><span class="s2">&quot;Singapore&quot;</span><span class="p">,</span><span class="s2">&quot;Hong Kong&quot;</span><span class="p">]]</span>
<span class="n">geometry</span><span class="p">:</span> <span class="p">[[</span><span class="mf">010100000054E57</span><span class="n">B4622E828408B074AC09EF34440</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">DCB122B42FE228402376B7FCD1F74540</span><span class="p">,</span><span class="mi">01010000006</span><span class="n">DAE9AE78808234032D989DC1D914740</span><span class="p">,</span><span class="mi">01010000007</span><span class="n">BCB8B0233333F40289B728577773AC0</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">C08D39741F8518400F2153E34ACE4840</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="mi">0101000000667</span><span class="n">B47AA269B45C002B53F5745E836C0</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">F15A536A405047C0C1148A19868E37C0</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">A286FD30CDE662401F04CF2989EF40C0</span><span class="p">,</span><span class="mi">01010000003</span><span class="n">A387DE2A5F659409AF3E7363CB8F43F</span><span class="p">,</span><span class="mi">0101000000</span><span class="n">D865F84FB78B5C40144438C1924E3640</span><span class="p">]]</span>
</pre></div>
</div>
<p>Finally, a number of compute functions are provided for common
transformations required to create/consume arrays of geometries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">format_wkt</span><span class="p">(</span><span class="n">tab</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">])[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">pyarrow</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">ChunkedArray</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x1108252a0</span><span class="o">&gt;</span>
<span class="p">[</span>
  <span class="p">[</span>
    <span class="s2">&quot;POINT (12.4533865 41.9032822)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;POINT (12.4417702 43.9360958)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;POINT (9.5166695 47.1337238)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;POINT (31.1999971 -26.4666675)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;POINT (6.1300028 49.6116604)&quot;</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="create-consume-geoarrow-arrays">
<h2>Create/Consume GeoArrow Arrays<a class="headerlink" href="#create-consume-geoarrow-arrays" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">geoarrow-pyarrow</span></code> package also provides a number of utilities for
working with serialized and GeoArrow-native arrays. For example, you can
create geoarrow-encoded <code class="docutils literal notranslate"><span class="pre">pyarrow.Array</span></code>s with <code class="docutils literal notranslate"><span class="pre">as_geoarrow()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">as_geoarrow</span><span class="p">([</span><span class="s2">&quot;POINT (0 1)&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeometryExtensionArray</span><span class="p">:</span><span class="n">PointType</span><span class="p">(</span><span class="n">geoarrow</span><span class="o">.</span><span class="n">point</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This will work with:</p>
<ul class="simple">
<li><p>An existing array created by geoarrow</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">geopandas.GeoSeries</span></code></p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">pyarrow.Array</span></code> or <code class="docutils literal notranslate"><span class="pre">pyarrow.ChunkedArray</span></code> (geoarrow text
interpreted as well-known text; binary interpreted as well-known
binary)</p></li>
<li><p>Anything that <code class="docutils literal notranslate"><span class="pre">pyarrow.array()</span></code> will convert to a text or binary
array</p></li>
</ul>
<p>If there is no common geometry type among elements of the input,
<code class="docutils literal notranslate"><span class="pre">as_geoarrow()</span></code> will fall back to well-known binary encoding. To
explicitly convert to well-known text or binary, use <code class="docutils literal notranslate"><span class="pre">as_wkt()</span></code> or
<code class="docutils literal notranslate"><span class="pre">as_wkb()</span></code>.</p>
<p>Alternatively, you can construct GeoArrow arrays directly from a series
of buffers as described in the specification:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">ga</span><span class="o">.</span><span class="n">point</span><span class="p">()</span><span class="o">.</span><span class="n">from_geobuffers</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]),</span>
    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeometryExtensionArray</span><span class="p">:</span><span class="n">PointType</span><span class="p">(</span><span class="n">geoarrow</span><span class="o">.</span><span class="n">point</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">3</span><span class="p">)</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">2</span> <span class="mi">4</span><span class="p">)</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">3</span> <span class="mi">5</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ga</span><span class="o">.</span><span class="n">point</span><span class="p">()</span><span class="o">.</span><span class="n">with_coord_type</span><span class="p">(</span><span class="n">ga</span><span class="o">.</span><span class="n">CoordType</span><span class="o">.</span><span class="n">INTERLEAVED</span><span class="p">)</span><span class="o">.</span><span class="n">from_geobuffers</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeometryExtensionArray</span><span class="p">:</span><span class="n">PointType</span><span class="p">(</span><span class="n">interleaved</span> <span class="n">geoarrow</span><span class="o">.</span><span class="n">point</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">3</span> <span class="mi">4</span><span class="p">)</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">POINT</span> <span class="p">(</span><span class="mi">5</span> <span class="mi">6</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="for-developers">
<h2>For Developers<a class="headerlink" href="#for-developers" title="Link to this heading">#</a></h2>
<p>One of the challeneges with GeoArrow data is the large number of
permutations between X, Y, Z, M, geometry types, and serialized
encodings. The <code class="docutils literal notranslate"><span class="pre">geoarrow-types</span></code> package provides pure Python utilities
to manage, compute on, and specify these types (or parts of them, as
required).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geoarrow.types</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gt</span>

<span class="n">gt</span><span class="o">.</span><span class="n">TypeSpec</span><span class="o">.</span><span class="n">common</span><span class="p">(</span>
    <span class="n">gt</span><span class="o">.</span><span class="n">Encoding</span><span class="o">.</span><span class="n">GEOARROW</span><span class="p">,</span>
    <span class="n">gt</span><span class="o">.</span><span class="n">GeometryType</span><span class="o">.</span><span class="n">POINT</span><span class="p">,</span>
    <span class="n">gt</span><span class="o">.</span><span class="n">GeometryType</span><span class="o">.</span><span class="n">MULTIPOINT</span><span class="p">,</span>
    <span class="n">gt</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">XYM</span><span class="p">,</span>
    <span class="n">gt</span><span class="o">.</span><span class="n">Dimensions</span><span class="o">.</span><span class="n">XYZ</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">to_pyarrow</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MultiPointType</span><span class="p">(</span><span class="n">geoarrow</span><span class="o">.</span><span class="n">multipoint_zm</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="building">
<h2>Building<a class="headerlink" href="#building" title="Link to this heading">#</a></h2>
<p>Python bindings for geoarrow are managed with
<a class="reference external" href="https://setuptools.pypa.io/en/latest/index.html">setuptools</a>. This
means you can build the project using:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/geoarrow/geoarrow-python.git
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>geoarrow-pyarrow/<span class="w"> </span>geoarrow-types/
</pre></div>
</div>
<p>Tests use <a class="reference external" href="https://docs.pytest.org/">pytest</a>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest
</pre></div>
</div>
</section>
<section id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Link to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyarrow.html">geoarrow-pyarrow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#array-constructors">Array constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#type-constructors">Type Constructors</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#compute-functions">Compute functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#class-reference">Class Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#module-geoarrow.pyarrow.io">IO helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyarrow.html#module-geoarrow.pyarrow.dataset">Dataset constructors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pandas.html">geoarrow-pandas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pandas.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="pandas.html#geoarrow.pandas.GeoArrowAccessor"><code class="docutils literal notranslate"><span class="pre">GeoArrowAccessor</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="pandas.html#geoarrow.pandas.GeoArrowExtensionDtype"><code class="docutils literal notranslate"><span class="pre">GeoArrowExtensionDtype</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="pandas.html#geoarrow.pandas.GeoArrowExtensionArray"><code class="docutils literal notranslate"><span class="pre">GeoArrowExtensionArray</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="pandas.html#geoarrow.pandas.GeoArrowExtensionScalar"><code class="docutils literal notranslate"><span class="pre">GeoArrowExtensionScalar</span></code></a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="right-next"
       href="pyarrow.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">geoarrow-pyarrow</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-consume-geoarrow-arrays">Create/Consume GeoArrow Arrays</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#for-developers">For Developers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building">Building</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contents">Contents</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/geoarrow/geoarrow-python/edit/main/docs/source/index.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023-2025 Dewey Dunnington.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>